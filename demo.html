<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Document</title>
<h1>病案分析</h1>
<style>
      #con {
        width: 1300px;
        height: 1009px;
        /* background: #f2fbfa; */
        position: relative;
    }
    #text{
    float:right; 
	width:500px; 
    /* height: 1009px; */
    border:solid;
    border-width:2px;
    border-radius:5px;
	/* background:rgb(247, 251, 217); */
    opacity: 0;
	/* text-align: center; */
	font-size: 22px;
	margin-bottom:5px; 
	color: #000;
    }
</style>
<script type="text/javascript" src="/eel.js"></script>
<script>
    
    var myfjdata=[
    {
        "herb": "桃仁",
        "xx": "292.7025318",
        "yy": "-583.6187363"
    },
    {
        "herb": "泽兰",
        "xx": "277.3356438",
        "yy": "-815.3596878"
    },
    {
        "herb": "丹参",
        "xx": "214.8224354",
        "yy": "-670.6487179"
    },
    {
        "herb": "茜草",
        "xx": "191.2685871",
        "yy": "-741.4805412"
    },
    {
        "herb": "小蓟",
        "xx": "297.4273443",
        "yy": "-662.2830868"
    },
    {
        "herb": "白茅根",
        "xx": "263.984251",
        "yy": "-968.1796074"
    },
    {
        "herb": "仙鹤草",
        "xx": "251.4322996",
        "yy": "-616.0720825"
    },
    {
        "herb": "鱼腥草",
        "xx": "216.5284395",
        "yy": "-878.3743858"
    },
    {
        "herb": "太子参",
        "xx": "450.3205299",
        "yy": "-994.2559242"
    },
    {
        "herb": "黄精",
        "xx": "406.6632748",
        "yy": "-1012.418842"
    },
    {
        "herb": "黄芩",
        "xx": "228.1280756",
        "yy": "-728.0767918"
    },
    {
        "herb": "女贞子",
        "xx": "353.2286882",
        "yy": "-671.7360973"
    },
    {
        "herb": "墨旱莲",
        "xx": "389.4002438",
        "yy": "-697.5903511"
    },
    {
        "herb": "茯苓",
        "xx": "362.533927",
        "yy": "-1064.823151"
    },
    {
        "herb": "陈皮",
        "xx": "281.7278862",
        "yy": "-881.4469337"
    },
    {
        "herb": "薏苡仁",
        "xx": "334.2226505",
        "yy": "-1011.558628"
    },
    {
        "herb": "酸枣仁",
        "xx": "334.7590923",
        "yy": "-608.6952209"
    },
    {
        "herb": "黄芪",
        "xx": "343.0436373",
        "yy": "-955.0682068"
    },
    {
        "herb": "车前子",
        "xx": "444.9765205",
        "yy": "-735.8710766"
    },
    {
        "herb": "甘草",
        "xx": "397.3070383",
        "yy": "-1043.750668"
    },
    {
        "herb": "山药",
        "xx": "396.2347746",
        "yy": "-969.1259384"
    },
    {
        "herb": "白芍",
        "xx": "255.180192",
        "yy": "-747.8413105"
    },
    {
        "herb": "菟丝子",
        "xx": "409.8154068",
        "yy": "-893.8652039"
    },
    {
        "herb": "山茱萸",
        "xx": "379.0473461",
        "yy": "-757.0333481"
    },
    {
        "herb": "熟地黄",
        "xx": "430.9466839",
        "yy": "-693.8779354"
    },
    {
        "herb": "当归",
        "xx": "346.9336033",
        "yy": "-824.6092796"
    },
    {
        "herb": "地黄",
        "xx": "409.9891186",
        "yy": "-646.3778973"
    }
]
    var allxx=[292.7025318,277.3356438,214.8224354,191.2685871,297.4273443,263.984251,251.4322996,216.5284395,450.3205299,406.6632748,228.1280756,353.2286882,389.4002438,362.533927,281.7278862,334.2226505,334.7590923,343.0436373,444.9765205,397.3070383,396.2347746,255.180192,409.8154068,379.0473461,430.9466839,346.9336033,409.9891186]
    var allyy=[-583.6187363,-815.3596878,-670.6487179,-741.4805412,-662.2830868,-968.1796074,-616.0720825,-878.3743858,-994.2559242,-1012.418842,-728.0767918,-671.7360973,-697.5903511,-1064.823151,-881.4469337,-1011.558628,-608.6952209,-955.0682068,-735.8710766,-1043.750668,-969.1259384,-747.8413105,-893.8652039,-757.0333481,-693.8779354,-824.6092796,-646.3778973]
    function bubbleSort(arr) {
          if (Array.isArray(arr)) {
            for (var i = arr.length - 1; i > 0; i--) {
              for (var j = 0; j < i; j++) {
                if (arr[j] > arr[j + 1]) {
                  [arr[j], arr[j + 1]] = [arr[j + 1], arr[j]];
                }
              }
            }
            return arr;
          }
     }
    
    console.log(allxx)

    function myFunction() {
        var bacxx=[292.7025318,277.3356438,214.8224354,191.2685871,297.4273443,263.984251,251.4322996,216.5284395,450.3205299,406.6632748,228.1280756,353.2286882,389.4002438,362.533927,281.7278862,334.2226505,334.7590923,343.0436373,444.9765205,397.3070383,396.2347746,255.180192,409.8154068,379.0473461,430.9466839,346.9336033,409.9891186]
        var bacyy=[-583.6187363,-815.3596878,-670.6487179,-741.4805412,-662.2830868,-968.1796074,-616.0720825,-878.3743858,-994.2559242,-1012.418842,-728.0767918,-671.7360973,-697.5903511,-1064.823151,-881.4469337,-1011.558628,-608.6952209,-955.0682068,-735.8710766,-1043.750668,-969.1259384,-747.8413105,-893.8652039,-757.0333481,-693.8779354,-824.6092796,-646.3778973]
      var liverobj = document.getElementById("liverSelect");
      var liverindex = liverobj.selectedIndex; //选中索引
      var livertext = liverobj.options[liverindex].text; //选中文本
      var liverval = liverobj.options[liverindex].value; //选中值
        console.log(liverindex)
        // console.log(livertext)
        // console.log(liverval)
        var heartobj = document.getElementById("heartSelect");
      var heartindex = heartobj.selectedIndex; //选中索引
        var spleenobj = document.getElementById("spleenSelect");
      var spleenindex = spleenobj.selectedIndex; //选中索引
        var lungobj = document.getElementById("lungSelect");
      var lungindex =lungobj.selectedIndex; //选中索引
        var kidneyobj = document.getElementById("kidneySelect");
      var kidneyindex = kidneyobj.selectedIndex; //选中索引
        console.log(heartindex)
        console.log(spleenindex)
        console.log(lungindex)
        console.log(kidneyindex)
        wuxingindex=[liverindex,heartindex,spleenindex,lungindex,kidneyindex]
        oriwuxingindex=[liverindex,heartindex,spleenindex,lungindex,kidneyindex]
        wuxingindex=bubbleSort(wuxingindex)
        console.log(wuxingindex)
        console.log(oriwuxingindex)
        xxx=[myfjdata[liverindex].xx,myfjdata[heartindex].xx,myfjdata[spleenindex].xx,myfjdata[lungindex].xx,myfjdata[kidneyindex].xx]
        yyy=[myfjdata[liverindex].yy,myfjdata[heartindex].yy,myfjdata[spleenindex].yy,myfjdata[lungindex].yy,myfjdata[kidneyindex].yy]
        console.log(xxx)
        ori=[oriwuxingindex.indexOf(wuxingindex[0]),oriwuxingindex.indexOf(wuxingindex[1]),oriwuxingindex.indexOf(wuxingindex[2]),oriwuxingindex.indexOf(wuxingindex[3]),oriwuxingindex.indexOf(wuxingindex[4])]
        console.log(ori)
        console.log(yyy)
        xxx=xxx.map(Number)
        yyy=yyy.map(Number)
    
    for (var i=0;i<5;i++)
    { 
        bacxx.splice(bacxx.indexOf(xxx[i]), 1)
        bacyy.splice(bacyy.indexOf(yyy[i]), 1)
    }
    
    console.log(bacxx)
    console.log(bacyy)
    eel.bargb2rgb(xxx,yyy,bacxx,bacyy,wuxingindex,ori)
     }
    </script>
</head>
<body>
    <div id="con">
        <div id="select">
            <p>
            肝：
            <select name="liver" id="liverSelect">
              <option value="a">桃仁</option>
              <option value="b">泽兰</option>
              <option value="c" >丹参</option>
              <option value="d">茜草</option>
              <option value="e">小蓟</option>
                <option value="b">白茅根</option>
              <option value="c" >仙鹤草</option>
              <option value="d">鱼腥草</option>
              <option value="e">太子参</option>
              <option value="c" >黄精</option>
              <option value="d">黄芩</option>
              <option value="e">女贞子</option>
              <option value="c" >墨旱莲</option>
              <option value="d">茯苓</option>
              <option value="e">陈皮</option>
              <option value="c" >薏苡仁</option>
              <option value="d">酸枣仁</option>
              <option value="d">黄芪</option>
              <option value="e">车前子</option>
                <option value="b"  selected="selected">甘草</option>
              <option value="c" >山药</option>
              <option value="d">白芍</option>
              <option value="e">菟丝子</option>
                <option value="b">山茱萸</option>
                <option value="b">熟地黄</option>
              <option value="c" >当归</option>
              <option value="d">地黄</option>
              
            </select> 
            心：
            <select name="liver" id="heartSelect">
                <option value="a">桃仁</option>
                <option value="b">泽兰</option>
                <option value="c" >丹参</option>
                <option value="d">茜草</option>
                <option value="e">小蓟</option>
                  <option value="b">白茅根</option>
                <option value="c" >仙鹤草</option>
                <option value="d">鱼腥草</option>
                <option value="e">太子参</option>
                <option value="c" >黄精</option>
                <option value="d">黄芩</option>
                <option value="e">女贞子</option>
                <option value="c" >墨旱莲</option>
                <option value="d">茯苓</option>
                <option value="e">陈皮</option>
                <option value="c" >薏苡仁</option>
                <option value="d">酸枣仁</option>
                <option value="d">黄芪</option>
                <option value="e">车前子</option>
                  <option value="b"  selected="selected">甘草</option>
                <option value="c" >山药</option>
                <option value="d">白芍</option>
                <option value="e">菟丝子</option>
                  <option value="b">山茱萸</option>
                  <option value="b">熟地黄</option>
                <option value="c" >当归</option>
                <option value="d">地黄</option>
            </select> 
            脾：
            <select name="liver" id="spleenSelect">
                <option value="a">桃仁</option>
                <option value="b">泽兰</option>
                <option value="c" >丹参</option>
                <option value="d">茜草</option>
                <option value="e">小蓟</option>
                  <option value="b">白茅根</option>
                <option value="c" >仙鹤草</option>
                <option value="d">鱼腥草</option>
                <option value="e">太子参</option>
                <option value="c" >黄精</option>
                <option value="d">黄芩</option>
                <option value="e">女贞子</option>
                <option value="c" >墨旱莲</option>
                <option value="d">茯苓</option>
                <option value="e">陈皮</option>
                <option value="c" >薏苡仁</option>
                <option value="d">酸枣仁</option>
                <option value="d">黄芪</option>
                <option value="e">车前子</option>
                  <option value="b"  selected="selected">甘草</option>
                <option value="c" >山药</option>
                <option value="d">白芍</option>
                <option value="e">菟丝子</option>
                  <option value="b">山茱萸</option>
                  <option value="b">熟地黄</option>
                <option value="c" >当归</option>
                <option value="d">地黄</option>
            </select> 
            肺：
            <select name="liver" id="lungSelect">
                <option value="a">桃仁</option>
                <option value="b">泽兰</option>
                <option value="c" >丹参</option>
                <option value="d">茜草</option>
                <option value="e">小蓟</option>
                  <option value="b">白茅根</option>
                <option value="c" >仙鹤草</option>
                <option value="d">鱼腥草</option>
                <option value="e">太子参</option>
                <option value="c" >黄精</option>
                <option value="d">黄芩</option>
                <option value="e">女贞子</option>
                <option value="c" >墨旱莲</option>
                <option value="d">茯苓</option>
                <option value="e">陈皮</option>
                <option value="c" >薏苡仁</option>
                <option value="d">酸枣仁</option>
                <option value="d">黄芪</option>
                <option value="e">车前子</option>
                  <option value="b"  selected="selected">甘草</option>
                <option value="c" >山药</option>
                <option value="d">白芍</option>
                <option value="e">菟丝子</option>
                  <option value="b">山茱萸</option>
                  <option value="b">熟地黄</option>
                <option value="c" >当归</option>
                <option value="d">地黄</option>
            </select> 
            肾：
            <select name="liver" id="kidneySelect">
                <option value="a">桃仁</option>
                <option value="b">泽兰</option>
                <option value="c" >丹参</option>
                <option value="d">茜草</option>
                <option value="e">小蓟</option>
                  <option value="b">白茅根</option>
                <option value="c" >仙鹤草</option>
                <option value="d">鱼腥草</option>
                <option value="e">太子参</option>
                <option value="c" >黄精</option>
                <option value="d">黄芩</option>
                <option value="e">女贞子</option>
                <option value="c" >墨旱莲</option>
                <option value="d">茯苓</option>
                <option value="e">陈皮</option>
                <option value="c" >薏苡仁</option>
                <option value="d">酸枣仁</option>
                <option value="d">黄芪</option>
                <option value="e">车前子</option>
                  <option value="b"  selected="selected">甘草</option>
                <option value="c" >山药</option>
                <option value="d">白芍</option>
                <option value="e">菟丝子</option>
                  <option value="b">山茱萸</option>
                  <option value="b">熟地黄</option>
                <option value="c" >当归</option>
                <option value="d">地黄</option>
        
            </select> 
            <button class="selectbutton" onclick="myFunction()">选择</button>
            <button class="selectbutton" onclick="clearFunction()">清除</button>
        
          </p>
          </div>
        <svg id="svg"></svg>
        <div id="text"></div>
    </div>
</body>
<script src="https://d3js.org/d3.v4.js"></script>
<script src="https://d3js.org/d3.v3.min.js"></script>
 


<script>
  // var con = $('#con');//dom容器
   var svg = d3.selectAll('#svg')//d3操作的svg对象和jq对象不一样
                       .attr('width','780')//d3操作的对象px属性都不能带单位
                       .attr('height','1009')
                       .attr("display","inline-block")
                       .attr('viewBox','141.268587112426 -1114.82315063476 359.05194282531806 554.82315063476');//通过png-svg转换的把实际坐标放大了10倍


//    var tooltip = d3.selectAll("#text")
// 					.append("div")
// 					.attr("class", "tooltip")
// 					.style("background-color", "red")
// 					.style("border", "solid")
// 					.style("border-width", "2px")
// 					.style("width","500")
//                     .style("height","500")
// 					.style("margin","5px 20px 5px 40px")
// 					.style("border-radius", "5px")
// 					.style("padding", "5px")






var tooltip = d3.selectAll("#text")
// .append("svg")
// .attr("width",500)
// .attr("height",1009);

// tooltip.html("2可能的方剂为: ")
// tooltip.html("3可能的方剂为: ")
// tooltip.html("4可能的方剂为: ")

// var mytext = tooltip.append("text")
//   .text("可能的方剂为: ");

var mouseover = function(d) {
       tooltip.style("opacity", 1)
       d3.select(this)
     .style("stroke-width", 1)
     }
     
     var mousemove = function(d) {
       tooltip
       .html(d.xx)
         .style("left", (d3.mouse(this)[0]+70) + "px")
         .style("top", (d3.mouse(this)[1]) + "px")
         d3.select(this)
     .style("stroke-width", 2) 
     }
     var mouseleave = function(d) {
       tooltip.style("opacity", 0)
       d3.select(this)
     .style("stroke-width", 1)
     }

     d3.csv("0406.csv", function(data2){

       console.log(data2)
                        svg.append('path')//插入路径
                        .data(data2)
                       // .on("mouseover", mouseover)
                       // .on("mousemove", mousemove)
                       // .on("mouseleave", mouseleave)
                       .attr("id","Path1")
                       .attr("d","M175.31259765108805,-756.5057985378844C177.963197453241,-760.831989684412,180.61589228283347,-765.4843719774668,183.27557303096307,-769.811479450425C185.93525377909268,-774.1385869233833,188.60192044575933,-778.1404195762448,190.94097316021941,-782.1475617630507C193.28002587467952,-786.1547039498564,195.29146463693306,-790.1671556706068,197.29969644035555,-794.5067148643152C199.30792824377804,-798.8462740580236,201.31295308836943,-803.5129407246903,203.31583667477855,-808.179607391357C205.31872026118776,-812.8462740580236,207.3194625894147,-817.5129407246903,209.31841864018807,-822.1796073913571C211.31737469096143,-826.8462740580236,213.3145444642812,-831.5129407246903,215.31130126590517,-836.1796073913571C217.30805806752917,-840.8462740580236,219.3044018974574,-845.5129407246903,221.29721437659495,-850.1796073913571C223.29002685573244,-854.8462740580236,225.2793079840792,-859.5129407246903,226.9431032169185,-864.5129407246905C228.60689844975784,-869.5129407246903,229.94520778708966,-874.8462740580236,231.28073486545895,-880.1796073913571C232.61626194382822,-885.5129407246903,233.9490067632349,-890.8462740580236,234.6217660780931,-896.1796073913571C235.29452539295127,-901.5129407246903,235.30729920326095,-906.8462740580236,235.64987690191148,-912.5129407246905C235.992454600562,-918.179607391357,236.66483618755333,-924.179607391357,237.32912016684554,-930.1796073913571C237.9934041461378,-936.179607391357,238.64959051773087,-942.179607391357,238.99426548262076,-947.8462740580238C239.3389404475106,-953.5129407246903,239.3721040056972,-958.8462740580236,240.36590570954752,-964.1676194784021C241.35970741339784,-969.4889648987804,243.31414726291192,-974.7983224062036,245.97712798573068,-978.7983224062036C248.6401087085494,-982.7983224062036,252.01163030467285,-985.4889648987804,256.67829697133953,-986.826275965746C261.34496363800616,-988.1635870327118,267.3067753752161,-988.1475666740665,272.27544637394686,-986.4809000073998C277.2441173726777,-984.8142333407332,281.2196476329294,-981.4969203660452,283.55298096626274,-977.1951430214176C285.8863142995961,-972.8933656767903,286.577450706011,-967.6071239622235,285.9139018114991,-962.9404572955569C285.2503529169872,-958.2737906288902,283.2321187215484,-954.2266990101235,280.898785388215,-949.8803874847309C278.56545205488175,-945.5340759593382,275.9170195836538,-940.8885445273194,273.25947001470655,-936.56339786249C270.6019204457593,-932.2382511976607,267.93525377909265,-928.233489300021,265.59426660809646,-924.2229216826969C263.2532794371004,-920.2123540653732,261.2379717617748,-916.195980728365,258.9046384284415,-911.8613616891761C256.57130509510813,-907.5267426499871,253.91994610376707,-902.8738779086171,251.59426660809655,-899.5425112253538C249.268587112426,-896.2111445420901,247.268587112426,-894.2012759169329,246.26227235055975,-891.5277082876179C245.25595758869352,-888.854140658303,245.24332806496105,-885.5168740248299,244.23802052629685,-881.5149073747601C243.23271298763265,-877.5129407246903,241.2347274340367,-872.8462740580236,239.24104219590296,-867.8581080857151C237.24735695776917,-862.8699421134062,235.2579720350976,-857.5602768354555,233.59173479525816,-852.5602768354556C231.92549755541873,-847.5602768354555,230.58240799841147,-842.8699421134062,229.24437803636036,-837.8581080857151C227.90634807430922,-832.8462740580236,226.57337770721423,-827.5129407246903,225.24492248571786,-821.8576377484675C223.91646726422144,-816.2023347722446,222.59252718832371,-810.2250621531324,221.59026162944906,-804.5583954864657C220.5879960705744,-798.891728819799,219.9074050287228,-793.5356681055779,219.23424820372327,-787.8576377484675C218.56109137872372,-782.179607391357,217.89536877057625,-776.179607391357,217.22716842008072,-770.179607391357C216.55896806958523,-764.179607391357,215.8882899767417,-758.179607391357,214.89414386853022,-752.5129407246903C213.89999776031868,-746.8462740580236,212.58238363673922,-741.5129407246903,212.2575461748272,-736.1796070580236C211.93270871291517,-730.8462733913569,212.60064791267055,-725.512939391357,214.93461751254833,-721.5108968405387C217.268587112426,-717.5088542897205,221.268587112426,-714.8381031880839,225.268587112426,-712.1679228016974C229.268587112426,-709.4977424153109,233.268587112426,-706.8281327441746,237.59535240675328,-704.1635086283262C241.92211770108062,-701.498884512478,246.57564828973526,-698.8392459519174,251.23397482110056,-696.5094266716372C255.89230135246586,-694.179607391357,260.5554238265418,-692.179607391357,265.22865853221447,-690.5063415035323C269.9018932378872,-688.8330756157078,274.58524017515657,-687.4865438400584,279.9269136437913,-686.4806808583038C285.26858711242596,-685.4748178765491,291.26858711242596,-684.8096236886889,296.9236661494252,-683.4828895765135C302.5787451864245,-682.1561554643381,307.88890326042304,-680.1678814278475,311.8773240340541,-677.1737444096023C315.8657448076852,-674.179607391357,318.53242828094886,-670.179607391357,319.53807986809466,-665.8462740580236C320.5437314552405,-661.5129407246903,319.8883511562685,-656.8462740580236,317.8999303826374,-652.520312820392C315.9115096090064,-648.1943515827603,312.59004836071614,-644.2090957741635,308.2626510699044,-641.5584407996142C303.93525377909265,-638.9077858250649,298.6019204457593,-637.5917316845631,293.9352537790926,-638.2590060103594C289.26858711242596,-638.9262803361555,285.26858711242596,-641.5768831282498,281.9386303563857,-645.2275381027991C278.6086736003455,-648.8781930773484,275.94876008826503,-653.5289002343527,273.28209342159835,-657.5280164796477C270.6154267549317,-661.5271327249427,267.94200693367884,-664.8746580585284,264.9386303563858,-668.2139771318493C261.93525377909265,-671.5532962051702,258.60192044575933,-674.8844090182264,254.94207994104576,-678.2106463514335C251.28223943633216,-681.5368836846407,247.2958917602383,-684.8582455379988,243.29589176023833,-687.5289930595139C239.2958917602383,-690.1997405810289,235.28223943633216,-692.2198737707009,230.94946443012816,-694.5532071040343C226.61668942392419,-696.8865404373677,221.9647917354224,-699.5330739143623,217.63145840208907,-701.8616616541098C213.29812506875575,-704.1902493938572,209.28335609059084,-706.2008913963573,204.9426382681751,-708.2093810176917C200.60192044575933,-710.2178706390263,195.93525377909268,-712.224207879195,191.268587112426,-714.232937122824C186.60192044575933,-716.2416663664529,181.93525377909268,-718.252787613542,178.268587112426,-721.2638041959066C174.60192044575933,-724.2748207782711,171.93525377909268,-728.2857326959111,170.28465397693972,-732.271682451032C168.63405417478683,-736.2576322061528,167.99952123714763,-740.218619798755,169.00650715568472,-744.199113595056C170.01349307422183,-748.179607391357,172.66199784893516,-752.179607391357,175.31259765108805,-756.5057985378844")
                       .attr('fill','#d35d6d')
                       .attr("fill-opacity",0.5)
                       .attr("fill-rule","evenodd")
                       .attr("stroke","rgb(211, 93, 109)")
                       .attr("stroke-width",1)

                       svg.append('path')//插入路径
                       .data(data2)
                       // .on("mouseover", mouseover)
                       // .on("mousemove", mousemove)
                       // .on("mouseleave", mouseleave)
                       .attr("id","Path2")
                       .attr("d","M256.18154145050516,-755.0824587855944C260.51450441346816,-757.7475833325025,265.84734820359057,-759.7444990929849,270.8471034319851,-760.4054765435097C275.8468586603797,-761.0664539940344,280.51352532704635,-760.3914931346015,285.51352532704635,-759.3815947869898C290.51352532704635,-758.3716964393781,295.8468586603797,-757.0268606035879,301.180191993713,-755.6910040403421C306.51352532704635,-754.3551474770962,311.8468586603797,-753.0282701863949,317.500264471679,-751.7063773204321C323.1536702829783,-750.3844844544692,329.1271485722435,-749.0675760132444,335.10858248358323,-748.0757884592989C341.09001639492294,-747.0840009053533,347.0794059283371,-746.4173342386866,353.09266678370454,-746.0796822494591C359.1059276390719,-745.7420302602317,365.14305981639245,-745.7333929484436,371.16162590505274,-745.3985053920511C377.1801919937131,-745.0636178356589,383.1801919937131,-744.4024800346623,389.1815529818411,-744.073465357223C395.1829139699691,-743.7444506797838,401.1856359462251,-743.7475591259018,406.19678708671034,-745.0824466822942C411.2079382271956,-746.4173342386866,415.2275185319101,-749.0840009053533,418.23161301277696,-752.7506675720198C421.23570749364393,-756.4173342386866,423.22431615066324,-761.0840009053533,424.5514908936115,-766.4173342386865C425.8786656365597,-771.75066757202,426.5444064654368,-777.75066757202,426.8781343277372,-784.0840009053532C427.21186219003766,-790.4173342386866,427.2135770857614,-797.0840009053533,426.8907516925549,-803.4173342386865C426.56792629934847,-809.75066757202,425.9205606172118,-815.75066757202,425.58832888341294,-822.0840009053532C425.25609714961394,-828.4173342386866,425.2389993641528,-835.0840009053533,424.8972027961865,-841.4173342386865C424.5554062282201,-847.75066757202,423.88891087774846,-853.75066757202,423.548626280252,-860.0840009053532C423.2083416827556,-866.4173342386866,423.1942678382343,-873.0840009053533,422.8538975826404,-879.4173342386865C422.51352732704635,-885.75066757202,421.84686066037966,-891.75066757202,420.8468603270464,-897.084857172874C419.84685999371305,-902.419046773728,418.513525993713,-907.0874259754364,415.52251097730147,-910.7540926421029C412.53149596088997,-914.4207593087698,407.88279992806685,-917.0857134403947,404.22148439198514,-920.4181905062073C400.56016885590356,-923.75066757202,397.88623381656333,-927.75066757202,395.21674404152776,-931.7506675720198C392.5472542664921,-935.75066757202,389.8822097557611,-939.75066757202,386.88815607146995,-943.4173342386865C383.89410238717886,-947.0840009053533,380.57103952932766,-950.4173342386866,377.92496450923653,-954.4173342386865C375.27888948914534,-958.4173342386866,373.3098023068142,-963.0840009053533,373.3025007341444,-967.7506675720198C373.2951991614746,-972.4173342386866,375.24968319846613,-977.0840009053533,375.90257419536016,-982.4173342386865C376.5554651922542,-987.75066757202,375.90676314905073,-993.75066757202,376.57039966248476,-999.0840009053532C377.23403617591885,-1004.4173342386866,379.2100112459904,-1009.0840009053533,380.86404701249336,-1014.0840009053532C382.51808277899636,-1019.0840009053533,383.8501792419309,-1024.4173342386866,384.51642225502405,-1030.4173342386864C385.1826652681171,-1036.4173342386866,385.1830548313688,-1043.0840009053534,386.1902744567896,-1048.75066757202C387.1974940822103,-1054.4173342386866,389.2115437698001,-1059.0840009053534,392.8632125628363,-1061.4173342386864C396.51488135587243,-1063.75066757202,401.80416925435503,-1063.75066757202,406.1299356770756,-1062.401858202553C410.45570209979616,-1061.0530488330865,413.81794704675457,-1058.355430094153,416.15505314453594,-1054.0220967608195C418.4921592423172,-1049.6887634274863,419.8041264909213,-1043.7197154997532,418.1374598242546,-1039.402330404294C416.47079315758793,-1035.084945308835,411.8254925756505,-1032.41922304565,407.8361752846818,-1029.752556378983C403.846857993713,-1027.0858897123164,400.5135239937131,-1024.4182786421682,398.84685732704634,-1020.0844727737607C397.18019066037976,-1015.7506669053532,397.1801913270463,-1009.7506662386864,398.513524993713,-1004.7498582473405C399.8468586603797,-999.7490502559946,402.5135253270464,-995.7474349399695,405.51352532704635,-992.0705830173969C408.5135253270464,-988.3937310948241,411.8468586603797,-985.041642565704,414.4952563684272,-980.7091172237166C417.14365407647483,-976.3765918817293,419.10711615923657,-971.0636297268746,420.7608806841369,-965.7404819827806C422.4146452090372,-960.4173342386866,423.758712176076,-955.0840009053533,424.7686563053009,-949.4173342386865C425.77860043452574,-943.75066757202,426.4544217259366,-937.75066757202,427.45897233381856,-932.0840009053532C428.4635229417006,-926.4173342386866,429.79680286605367,-921.0840009053533,430.79932560831367,-915.4173342386865C431.8018483505737,-909.75066757202,432.47361391074077,-903.75066757202,433.1354884135082,-897.7506675720198C433.7973629162755,-891.75066757202,434.4493463616434,-885.75066757202,434.7826679348009,-879.4173342386865C435.11598950795843,-873.0840009053533,435.13064920890565,-866.4173342386866,435.4771262400225,-860.4038380868318C435.8236032711396,-854.3903419349771,436.50189763242633,-849.0300162979341,437.5012544470248,-843.3633496312674C438.50061126162336,-837.6966829646008,439.82103052953363,-831.7236752683103,441.1456210098966,-826.0705047534984C442.4702114902596,-820.4173342386866,443.79897318307525,-815.0840009053533,445.13033716839027,-809.7506675720198C446.4617011537054,-804.4173342386866,447.7956674315199,-799.0840009053533,449.1329440347781,-793.7506675720198C450.4702206380364,-788.4173342386866,451.81080756673833,-783.0840009053533,453.4811088329573,-778.0840009053532C455.15141009917625,-773.0840009053533,457.15142570291226,-768.4173342386866,458.8228919526244,-763.7395942328213C460.49435820233657,-759.0618542269563,461.83727509802475,-754.3730408818927,463.49921785037213,-749.3730408818927C465.16116060271946,-744.3730408818927,467.14212921172583,-739.0618542269563,467.13367213542523,-734.0729275661547C467.1252150591246,-729.0840009053533,465.12733229751694,-724.4173342386866,461.8035146596804,-720.7566104668181C458.47969702184383,-717.0958866949496,453.82994450777846,-714.4411058178794,449.1717349174124,-714.1089490433095C444.5135253270464,-713.7767922687395,439.8468586603797,-715.7672595966698,435.180191993713,-717.7624307066666C430.5135253270464,-719.7576018166634,425.8468586603797,-721.7574767087266,420.51352532704635,-723.0948310720538C415.1801919937131,-724.4321854353811,409.1801919937131,-725.1070192699723,403.51352532704635,-726.11060716295C397.8468586603797,-727.1141950559276,392.5135253270464,-728.4465370072916,386.84685866037967,-729.4501764926049C381.1801919937131,-730.4538159779182,375.1801919937131,-731.1287529971811,369.180191993713,-731.8034167357197C363.1801919937131,-732.4780804742585,357.1801919937131,-733.1524709320729,350.84685866037967,-733.4890791274588C344.5135253270464,-733.8256873228446,337.8468586603797,-733.8245132558017,331.180191993713,-733.8182564209698C324.51352532704635,-733.8119995861379,317.8468586603797,-733.800659983517,311.51352532704635,-733.4612162488964C305.18019199371304,-733.1217725142759,299.18019199371304,-732.4542246476557,293.51352532704635,-731.4535859407201C287.8468586603797,-730.4529472337848,282.51352532704635,-729.1192176865342,277.180191993713,-727.7872582356085C271.8468586603797,-726.4552987846829,266.51352532704635,-725.1251094300824,262.180191993713,-725.4535471065774C257.8468586603797,-725.7819847830724,254.51352532704632,-727.7690494906632,251.84722903075007,-731.4283407400861C249.18093273445376,-735.0876319895092,247.18167347519451,-740.4191497807645,246.18204384556486,-743.0849086763923C245.1824142159352,-745.75066757202,245.1824142159352,-745.75066757202,246.848955283837,-747.4173342386865C248.51549635173873,-749.0840009053533,251.84857848754223,-752.4173342386866,256.18154145050516,-755.0824587855944")
                       .attr('fill','#cecf7b')
                       .attr("fill-opacity",0.5)
                       .attr("fill-rule","evenodd")
                       .attr("stroke","rgb(206, 207, 123)")
                       .attr("stroke-width",1)

                       svg.append('path')//插入路径
                       .data(data2)
                       // .on("mouseover", mouseover)
                       // .on("mousemove", mousemove)
                       // .on("mouseleave", mouseleave)
                       .attr("id","Path3")
                       .attr("d","M369.0659081795447,-777.865203857421C371.07448067362384,-782.5318705240876,373.08891227184273,-787.1985371907543,375.0972783598908,-791.865203857421C377.1056444479389,-796.5318705240876,379.1079450258162,-801.1985371907543,381.1044853588415,-805.865203857421C383.1010256918667,-810.5318705240876,385.0918057800399,-815.1985371907543,386.4304402476808,-820.5318705240876C387.7690747153217,-825.865203857421,388.45556356243037,-831.865203857421,389.12568153745457,-837.865203857421C389.7957995124788,-843.865203857421,390.4495466154187,-849.865203857421,390.7711726686653,-856.1985371907543C391.092798721912,-862.5318705240876,391.08230372546547,-869.1985371907543,390.09707955844243,-874.865203857421C389.1118553914194,-880.5318705240876,387.15190205381987,-885.1985371907543,386.8267165316277,-890.1985371907543C386.5015310094356,-895.1985371907543,387.81111330265094,-900.5318705240876,390.4536795357995,-904.8560666918638C393.09624576894817,-909.18026285964,397.07179594203006,-912.495321861859,401.39215007048887,-912.8286551951923C405.71250419894756,-913.1619885285257,410.37766228278315,-910.5135961929733,413.71062524574614,-906.8560666918638C417.0435882087091,-903.1985371907543,419.0443560507995,-898.5318705240876,420.04429009200203,-893.5318705240876C421.04422413320464,-888.5318705240876,421.0433243735194,-883.1985371907543,420.0395803564249,-878.1985371907543C419.0358363393304,-873.1985371907543,417.0292480648265,-868.5318705240876,415.02394439328344,-863.865203857421C413.01864072174044,-859.1985371907543,411.01462165315814,-854.5318705240876,409.01429643166165,-849.865203857421C407.01397121016504,-845.1985371907543,405.0173398357542,-840.5318705240876,403.3515840682296,-835.5318705240876C401.685828300705,-830.5318705240876,400.3509481400665,-825.1985371907543,399.355387749028,-819.2160345684421C398.35982735798945,-813.2335319461299,397.70358673655073,-806.6018600348389,397.3708785720096,-800.2685267015055C397.03817040746844,-793.9351933681722,397.0289946998248,-787.9001986127965,397.69045928921133,-782.2160345684421C398.3519238785979,-776.5318705240876,399.6840287650146,-771.1985371907543,401.34685674797987,-766.1985371907543C403.00968473094514,-761.1985371907543,405.00323581045905,-756.5318705240876,406.3410136493751,-751.865203857421C407.67879148829115,-747.1985371907543,408.3607960866093,-742.5318705240876,410.36821876208086,-738.5318705240876C412.3756414375523,-734.5318705240876,415.7084821901771,-731.1985371907543,418.70923976187447,-727.8642510955741C421.70999733357195,-724.5299650003939,424.378671724342,-721.1947261433667,428.04634225306035,-718.5259756776919C431.71401278177865,-715.857225212017,436.38067944844533,-713.8549631376945,440.7066502232229,-711.1892492328749C445.0326209980005,-708.523535328055,449.01789588088894,-705.194369592738,451.0109138315659,-700.8631200584128C453.0039317822431,-696.5318705240876,453.0046928007088,-691.1985371907543,451.34538869259785,-686.5389192131919C449.686084584487,-681.8793012356294,446.3667153497995,-677.8933986138378,442.0403640657891,-675.2376010596172C437.71401278177865,-672.5818035053966,432.38067944844533,-671.256111018747,427.3940497289797,-671.9157289963094C422.40742000951406,-672.5753469738719,417.7674939039162,-675.2202754156465,415.1016286896979,-679.5427396365337C412.43576347547963,-683.865203857421,411.7439591526409,-689.865203857421,410.3972555387732,-694.8660064745154C409.0505519249055,-699.86680909161,407.0489490200087,-703.8684143257991,404.3814809008937,-707.5361540267882C401.71401278177865,-711.2038937277771,398.38067944844533,-714.5377678955662,394.38810145185744,-717.5369652784716C390.3955234552695,-720.536162661377,385.74370079542695,-723.2006832593989,382.4110657071895,-726.8662768917433C379.07843061895204,-730.5318705240876,377.0649831023197,-735.1985371907543,374.72466774330036,-739.5318705240876C372.3843523842811,-743.865203857421,369.7171691828749,-747.865203857421,367.7172314028582,-751.865203857421C365.71729362284145,-755.865203857421,364.38460126421415,-759.865203857421,364.71961177987015,-764.1985371907543C365.05462229552626,-768.5318705240876,367.0573356854656,-773.1985371907543,369.0659081795447,-777.865203857421")
                       .attr('fill','#4aa15f')
                       .attr("fill-opacity",0.5)
                       .attr("fill-rule","evenodd")
                       .attr("stroke","rgb(74, 161, 95)")
                       .attr("stroke-width",1)

                       svg.append('path')//插入路径
                       .data(data2)
                       // .on("mouseover", mouseover)
                       // .on("mousemove", mousemove)
                       // .on("mouseleave", mouseleave)
                       .attr("id","Path4")
                       .attr("d","M333.99309952613913,-839.9069905947217C337.6454618772444,-843.2047015568755,342.2895325819937,-845.800123481183,347.26039783773325,-846.1334568145165C352.23126309347276,-846.4667901478497,357.52892290020253,-844.5380348902089,361.522549012313,-841.5736572613886C365.51617512442357,-838.609279632568,368.2057675419148,-834.609279632568,369.5511293863231,-829.9426129659014C370.89649123073144,-825.2759462992348,370.8976225020568,-819.9426129659014,370.570663056613,-813.956888428152C370.24370361116917,-807.9711638904024,369.5886534489561,-801.333048148237,368.9253694503297,-795.333048148237C368.2620854517033,-789.333048148237,367.5905676166636,-783.9711638904024,366.9239006166636,-778.2902217614852C366.2572336166636,-772.609279632568,365.59541745170327,-766.609279632568,366.26014594707095,-761.2759462992348C366.9248744424386,-755.9426129659014,368.9161475981343,-751.2759462992348,370.5691682019754,-746.2759462992348C372.2221888058166,-741.2759462992348,373.53695685780343,-735.9426129659014,374.53824912315434,-730.2759462992348C375.5395413885053,-724.609279632568,376.2273578672204,-718.609279632568,376.90767093004587,-712.9407972454566C377.58798399287133,-707.2723148583453,378.26079363980716,-701.9353500841225,379.5971981299417,-696.6020167507892C380.93360262007633,-691.2686834174559,382.93360195340966,-685.938981525012,385.93360195340966,-682.2731321693246C388.93360195340966,-678.6072828136374,392.93360262007633,-676.6052859947067,397.266936286743,-676.6025539851383C401.6002699534097,-676.59982197557,406.26693662007636,-678.5963547753638,408.9353745022486,-682.2640198514957C411.6038123844208,-685.9316849276278,412.2740214820987,-691.2704822800979,413.607354815432,-696.5882240176185C414.94068814876533,-701.9059657551393,416.93714571775416,-707.2026518777107,420.60204116891526,-709.8674960304984C424.26693662007636,-712.5323401832862,429.6002699534097,-712.5653423662907,434.9272410364525,-711.5836659716718C440.2542121194954,-710.6019895770528,445.5748209522478,-708.6056346048103,449.2318880608548,-705.274123785356C452.88895516946195,-701.9426129659014,454.8824805539237,-697.2759462992348,454.88884280421416,-692.292719119262C454.89520505450463,-687.3094919392893,452.9144041706238,-682.0097042460105,450.2573370620168,-677.6856309505995C447.6002699534097,-673.3615576551886,444.26693662007636,-670.0131987576455,441.91577249211423,-665.9964259376181C439.5646083641521,-661.9796531175908,438.1956134415612,-657.2944663750794,436.86228010822794,-651.9665798260677C435.52894677489456,-646.638693277056,434.2312750308188,-640.6681069215438,431.91577249211423,-636.0079567963962C429.6002699534097,-631.3478066712487,426.26693662007636,-627.9980927764657,421.933603286743,-625.6694503313335C417.6002699534097,-623.3408078862013,412.26693662007636,-622.0332368907199,407.6002699534097,-622.7044589908141C402.933603286743,-623.3756810909084,398.933603286743,-626.0256962865782,395.6156243810483,-629.6729652427997C392.2976454753536,-633.3202341990213,389.6616876639642,-637.9647569157946,387.3344234094113,-642.6203516075146C385.00715915485836,-647.2759462992348,382.98858845714193,-651.9426129659014,381.9732340295033,-656.6077188724038C380.9578796018646,-661.2728247789063,380.9457414443038,-665.9363699252444,379.6074550956655,-669.9363699252443C378.2691687470272,-673.9363699252444,375.6047342073114,-677.2728247789063,373.6047342073114,-681.2797051069597C371.6047342073114,-685.2865854350133,370.2691687470272,-689.9638912374585,368.9407909065837,-695.2972245707919C367.61241306614016,-700.6305579041251,366.29122284553733,-706.6199187683466,365.29122284553733,-712.2935147225389C364.29122284553733,-717.9671106767313,363.61241306614016,-723.3249417208945,362.28537876176324,-728.6582750542278C360.9583444573863,-733.9916083875611,358.9830856280296,-739.3004440100646,357.322904915415,-744.621528487983C355.6627242028005,-749.9426129659014,354.31762160692807,-755.2759462992348,352.6496583475689,-760.2759462992348C350.9816950882096,-765.2759462992348,348.99087116536356,-769.9426129659014,346.99295481814664,-774.609279632568C344.9950384709297,-779.2759462992348,342.99002969934196,-783.9426129659014,340.98341677031755,-788.609279632568C338.97680384129313,-793.2759462992348,336.96858675483213,-797.9426129659014,334.63439824265316,-802.2759462992348C332.30020973047425,-806.609279632568,329.6400497925774,-810.609279632568,327.9832263778674,-814.9426129659014C326.3264029631576,-819.2759462992348,325.6729160716347,-823.9426129659014,326.67649962460376,-828.2759462992348C327.68008317757284,-832.609279632568,330.34073717503395,-836.609279632568,333.99309952613913,-839.9069905947217")
                       .attr('fill','#0885c2')
                       .attr("fill-opacity",0.5)
                       .attr("fill-rule","evenodd")
                       .attr("stroke","rgb(8, 133, 194)")
                       .attr("stroke-width",1)

                       svg.append('path')//插入路径
                       .data(data2)
                       // .on("mouseover", mouseover)
                       // .on("mousemove", mousemove)
                       // .on("mouseleave", mouseleave)
                       .attr("id","Path5")
                       .attr("d","M338.2948642383704,-686.8923036520033C341.94361246984437,-690.1942561992709,346.5861503549477,-692.7981612938056,351.574085964166,-694.7961031707329C356.5620215733843,-696.7940450476602,361.8953549067176,-698.1860237069799,365.89705893854506,-700.5507378263792C369.8987629703723,-702.9154519457784,372.5688377006937,-706.2529015252571,375.90217103402705,-708.9201150265463C379.23550436736036,-711.5873285278357,383.23209630370565,-713.5843059509353,387.2303922718783,-713.2503487681687C391.228688240051,-712.916391585402,395.228688240051,-710.2514997967692,398.56103414584385,-706.5863444185526C401.89338005163654,-702.9211890403361,404.5580718632222,-698.255770072536,405.22473852988884,-693.5929893759918C405.8914051965555,-688.9302086794477,404.5600467183032,-684.2700662541592,401.2277008125104,-681.2711283375321C397.8953549067176,-678.2721904209048,392.5620215733843,-676.9344570129389,388.2263409388415,-674.9311948922497C383.89066030429854,-672.9279327715604,380.5526323685461,-670.2591419381482,377.5526323685461,-666.598556305437C374.5526323685461,-662.9379706727259,371.89066030429854,-658.2855902407158,368.5596742721748,-654.6407662225107C365.228688240051,-650.9959422043057,361.228688240051,-648.3586745999056,356.5620215733843,-647.6969465125467C351.8953549067176,-647.0352184251877,346.5620215733843,-648.34902985487,342.2381641980117,-650.993853873075C337.91430682263905,-653.63867789128,334.5999254052271,-657.614514498008,332.61784384041977,-661.9357661347053C330.6357622756124,-666.2570177714027,329.98598056340967,-670.9236844380694,330.9885689962307,-675.2570177714026C331.99115742905167,-679.590351104736,334.64611600689636,-683.590351104736,338.2948642383704,-686.8923036520033")
                       .attr('fill','#e2a2be')
                       .attr("fill-opacity",0.5)
                       .attr("fill-rule","evenodd")
                       .attr("stroke","rgb(226, 162, 190)")
                       .attr("stroke-width",1)

                       d3.selectAll("path")
                       .data(data2)
                       .on("mouseover", mouseover)
                       .on("mousemove", mousemove)
                       .on("mouseleave", mouseleave)
                       
     })
                 



                       var color = d3.scale.category20();

                       d3.csv("bingan2.csv", function(data) {

                       console.log(data)
                       svg.append("g")
                       .selectAll(".dot")
                       .data(data)
                       .enter().append("circle")
                       .attr("class", "dot")
                       .attr("r", 10)
                       .attr("cx", function(d) { return d.xx; })
                       .attr("cy", function(d) { return d.yy; })
                       .style("fill", function(d) { return d.rgb })
                       
                       .append("title")
                       .text(function (d) { return d.name});

                       svg.append("g")
                       .selectAll("dot")
                           .data(data)
                           .enter()
                           .append('text')
                           .attr("x", function (d) { return d.xx+10 } )
                           .attr("y", function (d) { return d.yy+5 })
                           .style('font-weight', 400)
                           .style('font-size',10)
                           .style('font-family', 'Arial')
                           .style('fill', 'black')
                           .text(function (d) { return d.name})

                           svg.append("g")
                           .selectAll("dot")
                           .data(data)
                           .enter()
                           .append('text')
                           .attr("x", function (d) { return d.xx+4000 })
                           .attr("y", function (d) { return d.yy+1500 })
                           .attr("dy", "-1.5em")
                           .attr("dx", "-0.5em")
                           .style('font-weight', 600)
                           .style('font-size',15)
                           .style('font-family', 'Arial')
                           .style('fill', function (d) { return d.color })
                           .text(function (d) { return d.fj})









 
 })

</script>

</html>
